<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<title>ForFuture shop首页</title>
		<meta name="keywords" content="">
		<meta name="description" content="">
		<script src="js/rem.js"></script>
		<link href="iconfont/iconfont.css" rel="stylesheet">
		<link href="css/mui.min.css" rel="stylesheet">
		<link href="css/all.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="css/base.css" />
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<style type="text/css">
			#banner{
				width: 100%;
				height: 300px;
			}
			#picImage{
				width:100%;
				height: 300px;
			}
			
		</style>
	</head>
	
	

	<body>
		<header class="mui-bar mui-bar-nav" id="header">
			<!---搜索栏--->
			<div class="top-sch-box flex-col">
				<div class="centerflex">
					<i class="fdj iconfont icon-search"></i>
					<div class="sch-txt">女装、连衣裙</div>
					<span class="shaomiao"><i class="iconfont icon-saoma"></i></span>
				</div>
			</div>
			<!---消息提醒-->
			<a class="btn" href="">
				<i class="iconfont icon-tixing"></i>
			</a>
			<!---购物车-->
			<a class="btn" href="shopcar.html">
				<i class="iconfont icon-cart"></i>
			</a>
		</header>
		
		<!---主体 start--->
		<div id="indexContainer">
		<div id="main" class="mui-clearfix">
			<!-- 点击触发   搜索层 start-->
			<div class="pop-schwrap">
				<div class="ui-scrollview">
					<div class="mui-bar mui-bar-nav clone">
						<a class="btn btn-back" href="javascript:;"></a>
						<div class="top-sch-box flex-col">
							<div class="centerflex">
								<input class="sch-input mui-input-clear" type="text" name="" id="" placeholder="连衣裙就是你的女人味儿" />
							</div>
						</div>
						<a class="mui-btn mui-btn-primary sch-submit" href="search.html">搜索</a>
					</div>
					<div class="scroll-wrap">
						<div class="mui-scroll">
							<div class="sch-cont">
								<div class="section ui-border-b">
									<div class="tit"><i class="iconfont icon-hot"></i>热门搜索</div>
									<div class="tags">
										<span class="tag">外套</span>
										<span class="tag">连衣裙</span>
										<span class="tag">运动鞋</span>
										<span class="tag">睡衣</span>
										<span class="tag actice">女装</span>
										<span class="tag">夏上新</span>
										<span class="tag">连衣裙</span>
										<span class="tag">T恤</span>
										<span class="tag">衬衫</span>
										<span class="tag actice">雪纺衫</span>
										<span class="tag">裤子</span>
									</div>
								</div>
								<div class="section">
									<div class="tit"><i class="iconfont icon-time"></i>最近搜索</div>
									<div class="tags">
										<span class="tag">牛奶 </span>
										<span class="tag">连衣裙</span>
										<span class="tag">运动鞋</span>
										<span class="tag">手拿包 </span>
										<span class="tag">外套</span>
										<span class="tag">单肩包</span>
										<span class="tag">日韩流行</span>
										<span class="tag">手提包</span>
										<span class="tag">青春学院</span>
										<span class="tag">连衣裙</span>
										<span class="tag">男士商务 </span>
									</div>
								</div>
							</div>
							<div class="sch-clear">
								<a href="javascript:void"><i class="iconfont icon-shanchu"></i>清除搜索历史</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- 点击触发   搜索层 end-->

			<div class="mui-content" style="margin-top: 47px;margin-bottom: 50px;">
				
					
				<!--轮播图 start-->
				<div id="slider" class="mui-slider">
					<div class="mui-slider-group mui-slider-loop">
						<!-- 额外增加的一个节点(循环轮播：第一个节点是最后一张轮播) -->
						<div class="mui-slider-item mui-slider-item-duplicate" v-if="productPic.length>0" :id="productPic[3].pid">
							<a href="#">
								<img id="picImage" :src="productPic[3].image" onclick="getDetail(productPic[3].pid)">
							</a>
							<p class="mui-slider-title">{{productPic[3].pname}}</p>
						</div>
						
						<!-- v-for循环-->
						<div class="mui-slider-item" v-for="item in productPic">
							<a href="#">
								<img id="picImage" :src="item.image"  @tap="getDetail(item.pid)"   >
							</a>
							<p class="mui-slider-title">{{item.pname}}</p>
						</div>
						
						<!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
						<div class="mui-slider-item mui-slider-item-duplicate" v-if="productPic.length>0">
							<a href="#">
								<img id="picImage" :src="productPic[0].image" onclick="getDetail(productPic[0].pid)" >
							</a>
							<p class="mui-slider-title">{{productPic[0].pname}}</p>
						</div>
					</div>
					<div class="mui-slider-indicator">
						<div class="mui-indicator mui-active"></div>
						<div class="mui-indicator"></div>
						<div class="mui-indicator"></div>
						<div class="mui-indicator"></div>
					</div>
				</div>
				<!--轮播图 end-->


				<!--导航--->
				<div class="home-nav ui-box">
					<div class="ui-flex flex-justify-sb">
						<div>
							<a href="#"><img src="img/homenav1.png" alt="" /></a>
						</div>
						<div>
							<a href="#"><img src="img/homenav2.png" alt="" /></a>
						</div>
						<div>
							<a href="#"><img src="img/homenav3.png" alt="" /></a>
						</div>
						<div>
							<a href="#"><img src="img/homenav4.png" alt="" /></a>
						</div>
					</div>
				</div>
				
				<!--推荐--->
				<div class="home-qnav ui-box">
					<div class="ui-flex flex-justify-sb">
						<div>
							<a href="#">
								<img src="img/qnav1.png" class="ico" />
								<span class="name">我的店铺</span>
							</a>
						</div>
						<div>
							<a href="#">
								<img src="img/qnav2.png" class="ico" />
								<span class="name">招商加盟</span>
							</a>
						</div>
						<div>
							<a href="#">
								<img src="img/qnav3.png" class="ico" />
								<span class="name">我的喜欢</span>
							</a>
						</div>
						<div onclick="getDetail(123)">
							<a href="#" >
								<img src="img/qnav4.png" class="ico" />
								<span class="name">猜你喜欢</span>
							</a>
						</div>
					</div>
				</div>
				
				<!--最新商品 start -->
				<div class="home-newgoods ui-box">
					<img class="home-imgtit" src="img/hometit1.jpg" alt="" />
					<div class="list-type1 plist-puzzle">
						<!--走边 一个大图 -->
						<a class="b" href="">
							<img :src="NewProduct[0].image" alt="" @tap="getDetail(NewProduct[0].pid)"/>
						</a>
						<!--右边 一个大图 -->					
						<div class="s ui-flex-vt flex-justify-sb">
							<a class="box" href="#" @tap="getDetail(NewProduct[1].pid)" ><img :src="NewProduct[1].image" alt=""     /></a>
							<a class="box" href="#" @tap="getDetail(NewProduct[2].pid)"><img :src="NewProduct[2].image" alt="" /></a>
							<a class="box" href="#" @tap="getDetail(NewProduct[3].pid)"><img :src="NewProduct[3].image" alt="" /></a>
						</div>
					</div>
					<img class="home-imgtit" src="img/hometit2.jpg" alt="" />
					<div class="list-type2 ui-flex flex-justify-sb">
						<a class="box" href="" v-for="(newItem,index) in NewProduct" v-if="index>3 && index<7" >
							<img class="figure" :src="newItem.image" alt="" @tap="getDetail(NewProduct[index].pid)"/>
							<span class="tit">{{newItem.pname}}</span>
						</a>						
					</div>
					<div class="list-type2 ui-flex flex-justify-sb">
						<a class="box" href="" v-for="(newItem,index) in NewProduct" v-if="index>7 && index<11" >
							<img class="figure" :src="newItem.image" alt="" @tap="getDetail(NewProduct[index].pid)"/>
							<span class="tit">{{newItem.pname}}</span>
						</a>						
					</div>
				</div>
				<!--最新商品 end -->


				<!-- 热门商品 start -->
				<div class="home-fashion ui-box ui-border-t">
					<img class="home-imgtit" src="img/hometit3.jpg" alt="" />
					
					<a href=""><img class="db margin-b-s" src="uploads/t4.jpg" width="100%" alt="" /></a>
					
					<div class="fastion-plist mui-row">
						<div class="mui-col-xs-4" v-for="(hotItem,index) in HotProduct" v-if="index>=0 && index<=2">
							<a class="item">
								<img :src="hotItem.image" alt="" class="figure" width="30%" height="120px" @tap="getDetail(hotItem.pid)"/>
								<span class="tit" style="color: darkorange;">{{hotItem.pname}}</span>
							</a>
						</div>
						<div class="mui-col-xs-4" v-for="(hotItem,index) in HotProduct" v-if="index>=3 && index<=5">
							<a class="item">
								<img :src="hotItem.image" alt="" class="figure" width="30%" height="120px" @tap="getDetail(hotItem.pid)"/>
								<span class="tit" style="color: deeppink;">{{hotItem.pname}}</span>
							</a>
						</div>
						<div class="mui-col-xs-4" v-for="(hotItem,index) in HotProduct" v-if="index>=6 && index<=8">
							<a class="item">
								<img :src="hotItem.image" alt="" class="figure" width="30%" height="120px" @tap="getDetail(hotItem.pid)"/>
								<span class="tit" style="color: salmon;">{{hotItem.pname}}</span>
							</a>
						</div>
					</div>
				</div>
				<!-- 热门商品 end -->
				
			</div>
			<!--mui-content end-->
		</div>
		</div>
		<!---主体 end--->

		<!--footer start-->
		<footer class="page-footer fixed-footer" id="footer">
			<ul>
				<li class="active">
					<a href="index.html">
						<img src="images/footer01.png" />
						<p>首页</p>
					</a>
				</li>
				<li>
					<a href="assort.html">
						<img src="images/footer002.png" />
						<p>分类</p>
					</a>
				</li>
				<li>
					<a href="shopcar.html">
						<img src="images/footer003.png" />
						<p>购物车</p>
					</a>
				</li>
				<li>
					<a href="self.html">
						<img src="images/footer004.png" />
						<p>个人中心</p>
					</a>
				</li>
			</ul>
		</footer>
		<!--footer end-->
		
	</body>
	
	
	<script src="js/vue.min.js"></script>
	<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
	<script src="js/fastclick.js"></script>
	<script src="js/mui.min.js"></script>
	<script type="text/javascript" src="js/hmt.js"></script>
	<!--插件-->
	<link rel="stylesheet" href="js/swiper/swiper.min.css">
	<script src="js/swiper/swiper.jquery.min.js"></script>
	<!--插件-->
	<script src="js/global.js"></script>
	
	<script>
		/*		
		$(function() {
			var banner = new Swiper('.banner', {
				autoplay: 5000,
				pagination: '.swiper-pagination',
				paginationClickable: true,
				lazyLoading: true,
				loop: true
			});

			mui('.pop-schwrap .sch-input').input();
			var deceleration = mui.os.ios ? 0.003 : 0.0009;
			mui('.pop-schwrap .scroll-wrap').scroll({
				bounce: true,
				indicators: true,
				deceleration: deceleration
			});
			$('.top-sch-box .fdj,.top-sch-box .sch-txt,.pop-schwrap .btn-back').on('click', function() {
				$('html,body').toggleClass('holding');
				$('.pop-schwrap').toggleClass('on');
				if($('.pop-schwrap').hasClass('on')) {;
					$('.pop-schwrap .sch-input').focus();
				}
			});

		});	
		*/
	</script>
	
	<script type="text/javascript">
		mui.init({
		    preloadPages:[{
		    	id:'detail.html',
		    	url:'detail.html',
		    	styles:{
		    		top:'0px',
		    		bottom:'0px'
		    	}
		    }]
		});
		var detailPage=null;
		mui.plusReady(function(){});
		function getDetail(post_id){
				if(!detailPage){
					detailPage=plus.webview.getWebviewById('detail.html');
				}else{
					mui.fire(detailPage,'getProduct',{pid:post_id});
				    mui.openWindow({id:'detail.html'});
				}
				
		}
//		//打开新页面
//		//单webview只承载单个页面的dom，减少dom层级及页面大小；页面切换使用原生动画，将最耗性能的部分交给原生实现.
//		var detailPage=null;
//		function productDetail(pid){
//			if(!detailPage){
//				detailPage=plus.webview.getWebviewById("detail.html");
//			}
//			//传值给详情页面，通知加载新数据
//			mui.fire(detailPage,"pid",{id:pid});
//			mui.openWindow({
//				url: 'detail.html',
//				id:'detail.html'
//			});
//		}
//		
		//使用Vue框架
		var indexVue=new Vue({
			el:"#indexContainer",
			data:{
				productPic:[],
				NewProduct:[],
				HotProduct:[]
			},
			methods:{
				showDetail:function(pid){
					location.href="product_info?pid="+pid;
				}
			},
			created:function(){
				mui.plusReady(function(){
					mui.getJSON(
						"http://www.ganquanzhong.top/shop/getProductPic",
						function(data){
							indexVue.productPic=data.list;
							for (var i = 0; i < indexVue.productPic.length; i++) {
								indexVue.productPic[i].image="http://www.ganquanzhong.top"+indexVue.productPic[i].image;
							}
							//console.log(JSON.stringify(indexVue.productPic));
						}
					);
					mui.getJSON(
						"http://www.ganquanzhong.top/shop/getNewProduct",
						function(data){
							indexVue.NewProduct=data.list;
							for (var i = 0; i < indexVue.NewProduct.length; i++) {
								indexVue.NewProduct[i].image="http://www.ganquanzhong.top"+indexVue.NewProduct[i].image;
							}
							//console.log(JSON.stringify(indexVue.NewProduct[0]));
						}
					);
					mui.getJSON(
						"http://www.ganquanzhong.top/shop/getHotProduct",
						function(data){
							indexVue.HotProduct=data.list;
							for (var i = 0; i < indexVue.HotProduct.length; i++) {
								indexVue.HotProduct[i].image="http://www.ganquanzhong.top"+indexVue.HotProduct[i].image;
							}
							//console.log(JSON.stringify(indexVue.HotProduct[0]));
						}
					);
				});
			},
			//更新
			updated: function() {
				var sliderMuiObj = mui("#slider");
				sliderMuiObj.slider({
					interval: 3000
				});
			}
		});
	</script>
	
</html>